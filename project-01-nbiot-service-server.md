## **📌 프로젝트명**

**NBIoT 서비스 서버**

- 통신사 별 각각 서버 구축
    - API 및 인증 방식의 차이

## **📌 개요**

단말기가 통신사로 전송한 데이터를 수신하고, 내부 시스템에 저장하는 서버를 구축하였습니다.

이 시스템은 Spring WebFlux를 활용하여 대량의 IoT 데이터를 비동기적으로 처리하고,

단말기 요청에 대한 REST API 응답 및 제어 명령 전송 기능을 지원합니다.

개발 환경과 운영 환경을 분리하여 안정적인 서비스 운영을 보장하였으며,

기획부터 설계, 백엔드 개발, 데이터 처리, 응답 로직까지 프로젝트 전 과정을 수행하였습니다.

## **📌 사용 기술 (Tech Stack)**

- **Backend**: Spring Boot, Spring WebFlux, MyBatis, HikariCP
- **Database**: MariaDB
- **배포 및 인프라**: Ubuntu, Apache Tomcat, SVN
- **Tool**: IntelliJ IDEA, DBeaver

## **📌 주요 기능**

✅ **NBIoT 데이터 수신** : 통신사에서 전송하는 데이터를 실시간으로 수신 및 처리

✅ **비동기 데이터 처리** : Spring WebFlux를 이용한 고성능 Non-Blocking 데이터 처리

✅ **DB 저장 및 관리** : 수신한 데이터를 분석하여 MariaDB에 저장

✅ **데이터 검증 및 필터링** : 유효하지 않은 데이터 필터링 및 오류 처리

✅ **REST API 응답 기능** : 단말기에서 요청한 데이터에 대해 새로운 REST API 응답 제공

✅ **제어 명령 전송 기능** : 특정 조건 충족 시 단말기로 직접 제어 명령 전달

✅ **수신 데이터 검증 로직** : 응답 전 수신 데이터의 유효성을 검사하여 무결성 보장

✅ **운영 및 개발 환경 분리** : 서비스 안정성 확보 및 독립적인 테스트 환경 구성

## **📌 개발 과정 및 역할**

### ⚡ **기획 및 설계**

- 통신사에서 제공하는 API 및 데이터 포맷 분석
- 대량의 데이터를 처리할 수 있도록 비동기 아키텍처(WebFlux) 적용
- 데이터 처리 흐름을 정의하고 최적화된 DB 스키마 설계
- REST API 기반의 응답 및 제어 명령 프로세스 설계
- 수신된 데이터의 유효성을 검증하는 로직 설계

### ⚡ Backend

- Spring WebFlux 기반의 비동기 데이터 수신 로직 구현
- MyBatis를 활용한 데이터 저장 최적화
- 단말기로 REST API 응답을 주는 기능 개발
- 조건부 제어 명령 전송 기능 구현
- 수신된 데이터 검증 로직 구현 → 데이터 무결성 및 보안 강화

### ⚡ **배포 및 운영**

- Ubuntu 서버 + Apache Tomcat을 활용한 배포
- SVN을 이용한 버전 관리 및 배포 프로세스 구축
- 운영 환경과 개발 환경을 분리하여 안정적인 서비스 운영 보장

## **📌 어려웠던 점 & 해결 방법**

### **⚠️ 문제 1: 대량의 데이터 수신 시 서버 다운 발생**

- 초기 개발 단계에서 대량의 데이터를 수신하는 과정에서 서버가 자주 다운되는 문제 발생
- 원인 파악이 어려웠으며, 서버 로그를 분석하면서 단계별로 원인을 추적

### **🛠️ 해결 방법**

✅ **1차 원인: DB 커넥션 문제(Connection error)**

- 대량의 데이터를 한 번에 처리하면서 DB 커넥션이 과도하게 생성 및 유지되는 문제가 있었음
- HikariCP (DB 커넥션 풀) 적용 및 적절한 커넥션 타임아웃 설정을 통해 해결
- 배치 처리 적용 → 데이터를 한 번에 저장하는 방식에서 일정 크기로 나누어 저장하는 방식으로 개선

✅ **2차 원인: 응답 지연 또는 응답 없음(Not Found)**

- 단말기로 응답을 보낼 때, 응답이 지연되거나 없는 경우 요청이 계속 대기하면서 서버 리소스를 점유
- Spring WebFlux (비동기 처리) 적용하여 Non-Blocking 방식으로 응답을 관리하도록 개선
- Mono/Flux 기반의 비동기 타임아웃 설정 및 예외 핸들링 추가

## **📌 성과 및 개선점**

✅ **서버 안정성 확보** → 대량 데이터 수신 후에도 서버가 안정적으로 동작

✅ **DB 커넥션 문제 해결** → HikariCP 및 배치 처리 적용으로 성능 최적화

✅ **응답 지연 문제 해결** → Spring WebFlux 적용으로 Non-Blocking 방식의 안정적인 데이터 처리 구현

✅ **운영 및 개발 환경을 분리하여 서비스 안정성 강화**
